@import "config";
@import "compass";
@import "functions";

.modal {

  // Overlay page content - the backdrop
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparentize($black, 0.5);
  z-index: 10000;

  // Transition opacity on open modal
  @include transition(opacity 100ms ease-in);  //compass mixin

  // Hide modal
  @include opacity(0); // compass mixin that addresses IE code
  pointer-events: none;

  // Show modal
  &:target {
    @include opacity(1); // compass mixin that addresses IE code
    pointer-events: auto;
    // pointer-events not supported by Opera or IE
    // http://caniuse.com/#search=pointer
  }

  // Content
  div {
    width: em($modal-width);
    background-color: $white;
    position: relative;
    margin: 10% auto;

    // Design attributes for the modal window
    padding: em(30);
    border-radius: em(7);
    box-shadow: 0 3px em(20) transparentize($black, 0.1);
    background-color: $modal-gradient-start;
    @include filter-gradient($modal-gradient-start, $modal-gradient-end, vertical); // IE6-9
    @include background-image(linear-gradient(top, $modal-gradient-start 0%, $modal-gradient-end 100%));
    text-shadow: 0 1px 0 $white;
  }
  h2 {
    font-size: em(36);
    padding: 0 0 em(20);
  }
  // Modal close link
  a {
    &[href="#close"] {
      position: absolute;
      right: 0;
      top: 0;
      color: transparent;
    }
    &:hover {
      &:after {
        @include scale(1.1, 1.1);  // compass mixin
      }
    }
    &[href="#close"]:after {
      content: 'X';
      display: block;

      // position
      position: absolute;
      right: -10px;
      top: -10px;
      width: 1.5em;
      padding: 1px 1px 1px 2px;

      // Style
      text-decoration: none;
      text-shadow: none;
      text-align: center;
      font-weight: bold;
      background: #000;
      color: #fff;
      border: 3px solid #fff;
      border-radius: 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.5);
    }
  }
}



/* Open modal */
a.openModal {
    margin: 1em auto;
    display: block;
    width: 200px;
    background: #ccc;
    text-align: center;
    padding: 10px;
    border-radius: 7px;
    background: #fff;
    background: -moz-linear-gradient(#fff, #ddd);
    background: -webkit-linear-gradient(#fff, #ddd);
    background: -o-linear-gradient(#fff, #ddd);
    text-shadow: 0 1px 0 #fff;
    border: 1px solid rgba(0,0,0,0.1);
    box-shadow: 0 1px 1px rgba(0,0,0,0.3);
}

a.openModal:hover,
a.openModal:focus {
    background: -moz-linear-gradient(#fff, #ccc);
    background: -webkit-linear-gradient(#fff, #ccc);
    background: -o-linear-gradient(#fff, #ccc);
}